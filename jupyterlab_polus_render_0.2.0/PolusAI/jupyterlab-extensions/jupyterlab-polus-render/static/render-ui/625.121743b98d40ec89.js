(self.webpackChunkrender_ui=self.webpackChunkrender_ui||[]).push([[625],{865:(ie,$)=>{var K,B,M,b,j,t,e,J,q,Q,P;B={defaultNoDataValue:-34027999387901484e22,decode:function(r,u){var i=t(r,(u=u||{}).inputOffset||0,u.encodedMaskData||null===u.encodedMaskData),m=null!==u.noDataValue?u.noDataValue:B.defaultNoDataValue,n=M(i,u.pixelType||Float32Array,u.encodedMaskData,m,u.returnMask),f={width:i.width,height:i.height,pixelData:n.resultPixels,minValue:n.minValue,maxValue:i.pixels.maxValue,noDataValue:m};return n.resultMask&&(f.maskData=n.resultMask),u.returnEncodedMask&&i.mask&&(f.encodedMaskData=i.mask.bitset?i.mask.bitset:null),u.returnFileInfo&&(f.fileInfo=b(i),u.computeUsedBitDepths&&(f.fileInfo.bitDepths=j(i))),f}},M=function(r,u,a,i,m){var s,w,I,n=0,f=r.pixels.numBlocksX,v=r.pixels.numBlocksY,o=Math.floor(r.width/f),h=Math.floor(r.height/v),g=2*r.maxZError,l=Number.MAX_VALUE;a=a||(r.mask?r.mask.bitset:null),w=new u(r.width*r.height),m&&a&&(I=new Uint8Array(r.width*r.height));for(var p,D,V=new Float32Array(o*h),k=0;k<=v;k++){var L=k!==v?h:r.height%v;if(0!==L)for(var d=0;d<=f;d++){var c=d!==f?o:r.width%f;if(0!==c){var A,y,S,C,U=k*r.width*h+d*o,T=r.width-c,x=r.pixels.blocks[n];if(x.encoding<2?(0===x.encoding?A=x.rawData:(e(x.stuffedData,x.bitsPerPixel,x.numValidPixels,x.offset,g,V,r.pixels.maxValue),A=V),y=0):S=2===x.encoding?0:x.offset,a)for(D=0;D<L;D++){for(7&U&&(C=a[U>>3],C<<=7&U),p=0;p<c;p++)7&U||(C=a[U>>3]),128&C?(I&&(I[U]=1),l=l>(s=x.encoding<2?A[y++]:S)?s:l,w[U++]=s):(I&&(I[U]=0),w[U++]=i),C<<=1;U+=T}else if(x.encoding<2)for(D=0;D<L;D++){for(p=0;p<c;p++)l=l>(s=A[y++])?s:l,w[U++]=s;U+=T}else for(l=l>S?S:l,D=0;D<L;D++){for(p=0;p<c;p++)w[U++]=S;U+=T}if(1===x.encoding&&y!==x.numValidPixels)throw"Block and Mask do not match";n++}}}return{resultPixels:w,resultMask:I,minValue:l}},b=function(r){return{fileIdentifierString:r.fileIdentifierString,fileVersion:r.fileVersion,imageType:r.imageType,height:r.height,width:r.width,maxZError:r.maxZError,eofOffset:r.eofOffset,mask:r.mask?{numBlocksX:r.mask.numBlocksX,numBlocksY:r.mask.numBlocksY,numBytes:r.mask.numBytes,maxValue:r.mask.maxValue}:null,pixels:{numBlocksX:r.pixels.numBlocksX,numBlocksY:r.pixels.numBlocksY,numBytes:r.pixels.numBytes,maxValue:r.pixels.maxValue,noDataValue:r.noDataValue}}},j=function(r){for(var u=r.pixels.numBlocksX*r.pixels.numBlocksY,a={},i=0;i<u;i++){var m=r.pixels.blocks[i];0===m.encoding?a.float32=!0:1===m.encoding?a[m.bitsPerPixel]=!0:a[0]=!0}return Object.keys(a)},t=function(r,u,a){var i={},m=new Uint8Array(r,u,10);if(i.fileIdentifierString=String.fromCharCode.apply(null,m),"CntZImage"!==i.fileIdentifierString.trim())throw"Unexpected file identifier string: "+i.fileIdentifierString;u+=10;var n=new DataView(r,u,24);if(i.fileVersion=n.getInt32(0,!0),i.imageType=n.getInt32(4,!0),i.height=n.getUint32(8,!0),i.width=n.getUint32(12,!0),i.maxZError=n.getFloat64(16,!0),u+=24,!a)if(n=new DataView(r,u,16),i.mask={},i.mask.numBlocksY=n.getUint32(0,!0),i.mask.numBlocksX=n.getUint32(4,!0),i.mask.numBytes=n.getUint32(8,!0),i.mask.maxValue=n.getFloat32(12,!0),u+=16,i.mask.numBytes>0){var f=new Uint8Array(Math.ceil(i.width*i.height/8)),v=(n=new DataView(r,u,i.mask.numBytes)).getInt16(0,!0),o=2,h=0;do{if(v>0)for(;v--;)f[h++]=n.getUint8(o++);else{var g=n.getUint8(o++);for(v=-v;v--;)f[h++]=g}v=n.getInt16(o,!0),o+=2}while(o<i.mask.numBytes);if(-32768!==v||h<f.length)throw"Unexpected end of mask RLE encoding";i.mask.bitset=f,u+=i.mask.numBytes}else 0==(i.mask.numBytes|i.mask.numBlocksY|i.mask.maxValue)&&(i.mask.bitset=new Uint8Array(Math.ceil(i.width*i.height/8)));n=new DataView(r,u,16),i.pixels={},i.pixels.numBlocksY=n.getUint32(0,!0),i.pixels.numBlocksX=n.getUint32(4,!0),i.pixels.numBytes=n.getUint32(8,!0),i.pixels.maxValue=n.getFloat32(12,!0),u+=16;var l=i.pixels.numBlocksX,s=i.pixels.numBlocksY,w=l+(i.width%l>0?1:0),I=s+(i.height%s>0?1:0);i.pixels.blocks=new Array(w*I);for(var V=0,p=0;p<I;p++)for(var D=0;D<w;D++){var k=0;n=new DataView(r,u,Math.min(10,r.byteLength-u));var d={};i.pixels.blocks[V++]=d;var c=n.getUint8(0);if(k++,d.encoding=63&c,d.encoding>3)throw"Invalid block encoding ("+d.encoding+")";if(2!==d.encoding){if(0!==c&&2!==c){if(d.offsetType=c>>=6,2===c)d.offset=n.getInt8(1),k++;else if(1===c)d.offset=n.getInt16(1,!0),k+=2;else{if(0!==c)throw"Invalid block offset type";d.offset=n.getFloat32(1,!0),k+=4}if(1===d.encoding)if(c=n.getUint8(k),k++,d.bitsPerPixel=63&c,d.numValidPixelsType=c>>=6,2===c)d.numValidPixels=n.getUint8(k),k++;else if(1===c)d.numValidPixels=n.getUint16(k,!0),k+=2;else{if(0!==c)throw"Invalid valid pixel count type";d.numValidPixels=n.getUint32(k,!0),k+=4}}var U;if(u+=k,3!==d.encoding)if(0===d.encoding){var x=(i.pixels.numBytes-1)/4;if(x!==Math.floor(x))throw"uncompressed block has invalid length";U=new ArrayBuffer(4*x),new Uint8Array(U).set(new Uint8Array(r,u,4*x));var A=new Float32Array(U);d.rawData=A,u+=4*x}else if(1===d.encoding){var y=Math.ceil(d.numValidPixels*d.bitsPerPixel/8),S=Math.ceil(y/4);U=new ArrayBuffer(4*S),new Uint8Array(U).set(new Uint8Array(r,u,y)),d.stuffedData=new Uint32Array(U),u+=y}}else u++}return i.eofOffset=u,i},e=function(r,u,a,i,m,n,f){var h,l,s,v=(1<<u)-1,o=0,g=0,w=Math.ceil((f-i)/m),I=4*r.length-Math.ceil(u*a/8);for(r[r.length-1]<<=8*I,h=0;h<a;h++){if(0===g&&(s=r[o++],g=32),g>=u)l=s>>>g-u&v,g-=u;else{var V=u-g;l=(s&v)<<V&v,l+=(s=r[o++])>>>(g=32-V)}n[h]=l<w?i+l*m:f}return n},J=B,q=function(){"use strict";var B_unstuff=function(t,e,r,u,a,i,m,n){var o,g,l,s,w,f=(1<<r)-1,v=0,h=0,I=4*t.length-Math.ceil(r*u/8);if(t[t.length-1]<<=8*I,a)for(o=0;o<u;o++)0===h&&(l=t[v++],h=32),h>=r?(g=l>>>h-r&f,h-=r):(g=(l&f)<<(s=r-h)&f,g+=(l=t[v++])>>>(h=32-s)),e[o]=a[g];else for(w=Math.ceil((n-i)/m),o=0;o<u;o++)0===h&&(l=t[v++],h=32),h>=r?(g=l>>>h-r&f,h-=r):(g=(l&f)<<(s=r-h)&f,g+=(l=t[v++])>>>(h=32-s)),e[o]=g<w?i+g*m:n},B_unstuff2=function(t,e,r,u,a,i,m,n){var o,l,s,w,f=(1<<r)-1,v=0,h=0,g=0;if(a)for(o=0;o<u;o++)0===h&&(s=t[v++],h=32,g=0),h>=r?(l=s>>>g&f,h-=r,g+=r):(l=s>>>g&f,h=32-(w=r-h),l|=((s=t[v++])&(1<<w)-1)<<r-w,g=w),e[o]=a[l];else{var I=Math.ceil((n-i)/m);for(o=0;o<u;o++)0===h&&(s=t[v++],h=32,g=0),h>=r?(l=s>>>g&f,h-=r,g+=r):(l=s>>>g&f,h=32-(w=r-h),l|=((s=t[v++])&(1<<w)-1)<<r-w,g=w),e[o]=l<I?i+l*m:n}return e},M={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(t){for(var e=65535,r=65535,u=t.length,a=Math.floor(u/2),i=0;a;){var m=a>=359?359:a;a-=m;do{e+=t[i++]<<8,r+=e+=t[i++]}while(--m);e=(65535&e)+(e>>>16),r=(65535&r)+(r>>>16)}return 1&u&&(r+=e+=t[i]<<8),((r=(65535&r)+(r>>>16))<<16|(e=(65535&e)+(e>>>16)))>>>0},readHeaderInfo:function(t,e){var r=e.ptr,u=new Uint8Array(t,r,6),a={};if(a.fileIdentifierString=String.fromCharCode.apply(null,u),0!==a.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+a.fileIdentifierString;r+=6;var i=new DataView(t,r,8),m=i.getInt32(0,!0);if(a.fileVersion=m,r+=4,m>=3&&(a.checksum=i.getUint32(4,!0),r+=4),i=new DataView(t,r,12),a.height=i.getUint32(0,!0),a.width=i.getUint32(4,!0),r+=8,m>=4?(a.numDims=i.getUint32(8,!0),r+=4):a.numDims=1,i=new DataView(t,r,40),a.numValidPixel=i.getUint32(0,!0),a.microBlockSize=i.getInt32(4,!0),a.blobSize=i.getInt32(8,!0),a.imageType=i.getInt32(12,!0),a.maxZError=i.getFloat64(16,!0),a.zMin=i.getFloat64(24,!0),a.zMax=i.getFloat64(32,!0),r+=40,e.headerInfo=a,e.ptr=r,m>=3&&this.computeChecksumFletcher32(new Uint8Array(t,r-(m>=4?52:48),a.blobSize-14))!==a.checksum)throw"Checksum failed.";return!0},checkMinMaxRanges:function(t,e){var r=e.headerInfo,u=this.getDataTypeArray(r.imageType),a=r.numDims*this.getDataTypeSize(r.imageType),i=this.readSubArray(t,e.ptr,u,a),m=this.readSubArray(t,e.ptr+a,u,a);e.ptr+=2*a;var n,f=!0;for(n=0;n<r.numDims;n++)if(i[n]!==m[n]){f=!1;break}return r.minValues=i,r.maxValues=m,f},readSubArray:function(t,e,r,u){var a;if(r===Uint8Array)a=new Uint8Array(t,e,u);else{var i=new ArrayBuffer(u);new Uint8Array(i).set(new Uint8Array(t,e,u)),a=new r(i)}return a},readMask:function(t,e){var f,v,r=e.ptr,u=e.headerInfo,a=u.width*u.height,i=u.numValidPixel,m=new DataView(t,r,4),n={};if(n.numBytes=m.getUint32(0,!0),r+=4,(0===i||a===i)&&0!==n.numBytes)throw"invalid mask";if(0===i)f=new Uint8Array(Math.ceil(a/8)),n.bitset=f,v=new Uint8Array(a),e.pixels.resultMask=v,r+=n.numBytes;else if(n.numBytes>0){f=new Uint8Array(Math.ceil(a/8));var o=(m=new DataView(t,r,n.numBytes)).getInt16(0,!0),h=2,g=0,l=0;do{if(o>0)for(;o--;)f[g++]=m.getUint8(h++);else for(l=m.getUint8(h++),o=-o;o--;)f[g++]=l;o=m.getInt16(h,!0),h+=2}while(h<n.numBytes);if(-32768!==o||g<f.length)throw"Unexpected end of mask RLE encoding";v=new Uint8Array(a);var s=0,w=0;for(w=0;w<a;w++)7&w?(s=f[w>>3],s<<=7&w):s=f[w>>3],128&s&&(v[w]=1);e.pixels.resultMask=v,n.bitset=f,r+=n.numBytes}return e.ptr=r,e.mask=n,!0},readDataOneSweep:function(t,e,r,u){var o,a=e.ptr,i=e.headerInfo,m=i.numDims,n=i.width*i.height,v=i.numValidPixel*M.getDataTypeSize(i.imageType)*m,h=e.pixels.resultMask;if(r===Uint8Array)o=new Uint8Array(t,a,v);else{var g=new ArrayBuffer(v);new Uint8Array(g).set(new Uint8Array(t,a,v)),o=new r(g)}if(o.length===n*m)e.pixels.resultPixels=u?M.swapDimensionOrder(o,n,m,r,!0):o;else{e.pixels.resultPixels=new r(n*m);var s=0,w=0,I=0,V=0;if(m>1){if(u){for(w=0;w<n;w++)if(h[w])for(V=w,I=0;I<m;I++,V+=n)e.pixels.resultPixels[V]=o[s++]}else for(w=0;w<n;w++)if(h[w])for(V=w*m,I=0;I<m;I++)e.pixels.resultPixels[V+I]=o[s++]}else for(w=0;w<n;w++)h[w]&&(e.pixels.resultPixels[w]=o[s++])}return e.ptr=a+=v,!0},readHuffmanTree:function(t,e){var r=this.HUFFMAN_LUT_BITS_MAX,u=new DataView(t,e.ptr,16);if(e.ptr+=16,u.getInt32(0,!0)<2)throw"unsupported Huffman version";var i=u.getInt32(4,!0),m=u.getInt32(8,!0),n=u.getInt32(12,!0);if(m>=n)return!1;var f=new Uint32Array(n-m);M.decodeBits(t,e,f);var o,h,g,l,v=[];for(o=m;o<n;o++)v[h=o-(o<i?0:i)]={first:f[o-m],second:null};var s=t.byteLength-e.ptr,w=Math.ceil(s/4),I=new ArrayBuffer(4*w);new Uint8Array(I).set(new Uint8Array(t,e.ptr,s));var k,p=new Uint32Array(I),D=0,L=0;for(k=p[0],o=m;o<n;o++)(l=v[h=o-(o<i?0:i)].first)>0&&(v[h].second=k<<D>>>32-l,32-D>=l?32===(D+=l)&&(D=0,k=p[++L]):(L++,v[h].second|=(k=p[L])>>>32-(D+=l-32)));var c,d=0,U=new b;for(o=0;o<v.length;o++)void 0!==v[o]&&(d=Math.max(d,v[o].first));c=d>=r?r:d;var x,A,y,S,F,T=[];for(o=m;o<n;o++)if((l=v[h=o-(o<i?0:i)].first)>0)if(x=[l,h],l<=c)for(A=v[h].second<<c-l,y=1<<c-l,g=0;g<y;g++)T[A|g]=x;else for(A=v[h].second,F=U,S=l-1;S>=0;S--)A>>>S&1?(F.right||(F.right=new b),F=F.right):(F.left||(F.left=new b),F=F.left),0===S&&!F.val&&(F.val=x[1]);return{decodeLut:T,numBitsLUTQick:c,numBitsLUT:d,tree:U,stuffedData:p,srcPtr:L,bitPos:D}},readHuffman:function(t,e,r,u){var p,D,k,d,c,T,x,A,y,i=e.headerInfo.numDims,m=e.headerInfo.height,n=e.headerInfo.width,f=n*m,v=this.readHuffmanTree(t,e),o=v.decodeLut,h=v.tree,g=v.stuffedData,l=v.srcPtr,s=v.bitPos,w=v.numBitsLUTQick,I=v.numBitsLUT,V=0===e.headerInfo.imageType?128:0,L=e.pixels.resultMask,S=0;s>0&&(l++,s=0);var _,C=g[l],F=1===e.encodeMode,Z=new r(f*i),E=Z;if(i<2||F){for(_=0;_<i;_++)if(i>1&&(E=new r(Z.buffer,f*_,f),S=0),e.headerInfo.numValidPixel===n*m)for(A=0,T=0;T<m;T++)for(x=0;x<n;x++,A++){if(D=0,c=d=C<<s>>>32-w,32-s<w&&(c=d|=g[l+1]>>>64-s-w),o[c])D=o[c][1],s+=o[c][0];else for(c=d=C<<s>>>32-I,32-s<I&&(c=d|=g[l+1]>>>64-s-I),p=h,y=0;y<I;y++)if(!(p=d>>>I-y-1&1?p.right:p.left).left&&!p.right){D=p.val,s=s+y+1;break}s>=32&&(s-=32,C=g[++l]),k=D-V,F?(k+=x>0?S:T>0?E[A-n]:S,E[A]=k&=255,S=k):E[A]=k}else for(A=0,T=0;T<m;T++)for(x=0;x<n;x++,A++)if(L[A]){if(D=0,c=d=C<<s>>>32-w,32-s<w&&(c=d|=g[l+1]>>>64-s-w),o[c])D=o[c][1],s+=o[c][0];else for(c=d=C<<s>>>32-I,32-s<I&&(c=d|=g[l+1]>>>64-s-I),p=h,y=0;y<I;y++)if(!(p=d>>>I-y-1&1?p.right:p.left).left&&!p.right){D=p.val,s=s+y+1;break}s>=32&&(s-=32,C=g[++l]),k=D-V,F?(k+=x>0&&L[A-1]?S:T>0&&L[A-n]?E[A-n]:S,E[A]=k&=255,S=k):E[A]=k}}else for(A=0,T=0;T<m;T++)for(x=0;x<n;x++)if(A=T*n+x,!L||L[A])for(_=0;_<i;_++,A+=f){if(D=0,c=d=C<<s>>>32-w,32-s<w&&(c=d|=g[l+1]>>>64-s-w),o[c])D=o[c][1],s+=o[c][0];else for(c=d=C<<s>>>32-I,32-s<I&&(c=d|=g[l+1]>>>64-s-I),p=h,y=0;y<I;y++)if(!(p=d>>>I-y-1&1?p.right:p.left).left&&!p.right){D=p.val,s=s+y+1;break}s>=32&&(s-=32,C=g[++l]),E[A]=k=D-V}e.ptr=e.ptr+4*(l+1)+(s>0?4:0),e.pixels.resultPixels=Z,i>1&&!u&&(e.pixels.resultPixels=M.swapDimensionOrder(Z,f,i,r))},decodeBits:function(t,e,r,u,a){var i=e.headerInfo,m=i.fileVersion,n=0,v=new DataView(t,e.ptr,t.byteLength-e.ptr>=5?5:t.byteLength-e.ptr),o=v.getUint8(0);n++;var h=o>>6,g=0===h?4:3-h,l=(32&o)>0,s=31&o,w=0;if(1===g)w=v.getUint8(n),n++;else if(2===g)w=v.getUint16(n,!0),n+=2;else{if(4!==g)throw"Invalid valid pixel count type";w=v.getUint32(n,!0),n+=4}var V,p,D,k,L,d,c,U,x,I=2*i.maxZError,A=i.numDims>1?i.maxValues[a]:i.zMax;if(l){for(e.counter.lut++,U=v.getUint8(n),n++,k=Math.ceil((U-1)*s/8),L=Math.ceil(k/4),p=new ArrayBuffer(4*L),D=new Uint8Array(p),e.ptr+=n,D.set(new Uint8Array(t,e.ptr,k)),c=new Uint32Array(p),e.ptr+=k,x=0;U-1>>>x;)x++;k=Math.ceil(w*x/8),L=Math.ceil(k/4),p=new ArrayBuffer(4*L),(D=new Uint8Array(p)).set(new Uint8Array(t,e.ptr,k)),V=new Uint32Array(p),e.ptr+=k,d=m>=3?function(t,e,r,u,a,i){var l,m=(1<<e)-1,n=0,f=0,v=0,o=0,h=0,g=0,s=[],w=Math.ceil((i-u)/a);for(f=0;f<r;f++)0===o&&(l=t[n++],o=32,g=0),o>=e?(h=l>>>g&m,o-=e,g+=e):(h=l>>>g&m,o=32-(v=e-o),h|=((l=t[n++])&(1<<v)-1)<<e-v,g=v),s[f]=h<w?u+h*a:i;return s.unshift(u),s}(c,s,U-1,u,I,A):function(t,e,r,u,a,i){var g,m=(1<<e)-1,n=0,f=0,v=0,o=0,h=0,l=[],s=4*t.length-Math.ceil(e*r/8);t[t.length-1]<<=8*s;var w=Math.ceil((i-u)/a);for(f=0;f<r;f++)0===o&&(g=t[n++],o=32),o>=e?(h=g>>>o-e&m,o-=e):(h=(g&m)<<(v=e-o)&m,h+=(g=t[n++])>>>(o=32-v)),l[f]=h<w?u+h*a:i;return l.unshift(u),l}(c,s,U-1,u,I,A),m>=3?B_unstuff2(V,r,x,w,d):B_unstuff(V,r,x,w,d)}else e.counter.bitstuffer++,x=s,e.ptr+=n,x>0&&(k=Math.ceil(w*x/8),L=Math.ceil(k/4),p=new ArrayBuffer(4*L),(D=new Uint8Array(p)).set(new Uint8Array(t,e.ptr,k)),V=new Uint32Array(p),e.ptr+=k,m>=3?null==u?function(t,e,r,u){var m,v,o,h,a=(1<<r)-1,i=0,n=0,f=0;for(m=0;m<u;m++)0===n&&(o=t[i++],n=32,f=0),n>=r?(v=o>>>f&a,n-=r,f+=r):(v=o>>>f&a,n=32-(h=r-n),v|=((o=t[i++])&(1<<h)-1)<<r-h,f=h),e[m]=v}(V,r,x,w):B_unstuff2(V,r,x,w,!1,u,I,A):null==u?function(t,e,r,u){var m,f,v,o,a=(1<<r)-1,i=0,n=0,h=4*t.length-Math.ceil(r*u/8);for(t[t.length-1]<<=8*h,m=0;m<u;m++)0===n&&(v=t[i++],n=32),n>=r?(f=v>>>n-r&a,n-=r):(f=(v&a)<<(o=r-n)&a,f+=(v=t[i++])>>>(n=32-o)),e[m]=f}(V,r,x,w):B_unstuff(V,r,x,w,!1,u,I,A))},readTiles:function(t,e,r,u){var a=e.headerInfo,i=a.width,m=a.height,n=i*m,f=a.microBlockSize,v=a.imageType,o=M.getDataTypeSize(v),h=Math.ceil(i/f),g=Math.ceil(m/f);e.pixels.numBlocksY=g,e.pixels.numBlocksX=h,e.pixels.ptr=0;var S,C,F,E,_,ee,H,N,Y,R,l=0,s=0,w=0,I=0,V=0,p=0,k=0,L=0,c=0,U=0,T=0,x=0,A=0,y=0,W=new r(f*f),ae=m%f||f,fe=i%f||f,G=a.numDims,X=e.pixels.resultMask,O=e.pixels.resultPixels,ne=a.fileVersion>=5?14:15,re=a.zMax;for(w=0;w<g;w++)for(V=w!==g-1?f:ae,I=0;I<h;I++)for(c=w*i*f+I*f,U=i-(p=I!==h-1?f:fe),N=0;N<G;N++){if(G>1?(R=O,c=w*i*f+I*f,O=new r(e.pixels.resultPixels.buffer,n*N*o,n),re=a.maxValues[N]):R=null,C={},y=0,k=(S=new DataView(t,e.ptr,Math.min(10,t.byteLength-e.ptr))).getUint8(0),y++,Y=a.fileVersion>=5?4&k:0,L=k>>6&255,(k>>2&ne)!=(I*f>>3&ne)||Y&&0===N)throw"integrity issue";if((_=3&k)>3)throw e.ptr+=y,"Invalid block encoding ("+_+")";if(2!==_)if(0===_){if(Y)throw"integrity issue";if(e.counter.uncompressed++,e.ptr+=y,T=(T=V*p*o)<(x=t.byteLength-e.ptr)?T:x,F=new ArrayBuffer(T%o==0?T:T+o-T%o),new Uint8Array(F).set(new Uint8Array(t,e.ptr,T)),E=new r(F),A=0,X)for(l=0;l<V;l++){for(s=0;s<p;s++)X[c]&&(O[c]=E[A++]),c++;c+=U}else for(l=0;l<V;l++){for(s=0;s<p;s++)O[c++]=E[A++];c+=U}e.ptr+=A*o}else if(ee=M.getDataTypeUsed(Y&&v<6?4:v,L),H=M.getOnePixel(C,y,ee,S),y+=M.getDataTypeSize(ee),3===_)if(e.ptr+=y,e.counter.constantoffset++,X)for(l=0;l<V;l++){for(s=0;s<p;s++)X[c]&&(O[c]=Y?Math.min(re,R[c]+H):H),c++;c+=U}else for(l=0;l<V;l++){for(s=0;s<p;s++)O[c]=Y?Math.min(re,R[c]+H):H,c++;c+=U}else if(e.ptr+=y,M.decodeBits(t,e,W,H,N),y=0,Y)if(X)for(l=0;l<V;l++){for(s=0;s<p;s++)X[c]&&(O[c]=W[y++]+R[c]),c++;c+=U}else for(l=0;l<V;l++){for(s=0;s<p;s++)O[c]=W[y++]+R[c],c++;c+=U}else if(X)for(l=0;l<V;l++){for(s=0;s<p;s++)X[c]&&(O[c]=W[y++]),c++;c+=U}else for(l=0;l<V;l++){for(s=0;s<p;s++)O[c++]=W[y++];c+=U}else{if(Y)if(X)for(l=0;l<V;l++)for(s=0;s<p;s++)X[c]&&(O[c]=R[c]),c++;else for(l=0;l<V;l++)for(s=0;s<p;s++)O[c]=R[c],c++;e.counter.constant++,e.ptr+=y}}G>1&&!u&&(e.pixels.resultPixels=M.swapDimensionOrder(e.pixels.resultPixels,n,G,r))},formatFileInfo:function(t){return{fileIdentifierString:t.headerInfo.fileIdentifierString,fileVersion:t.headerInfo.fileVersion,imageType:t.headerInfo.imageType,height:t.headerInfo.height,width:t.headerInfo.width,numValidPixel:t.headerInfo.numValidPixel,microBlockSize:t.headerInfo.microBlockSize,blobSize:t.headerInfo.blobSize,maxZError:t.headerInfo.maxZError,pixelType:M.getPixelType(t.headerInfo.imageType),eofOffset:t.eofOffset,mask:t.mask?{numBytes:t.mask.numBytes}:null,pixels:{numBlocksX:t.pixels.numBlocksX,numBlocksY:t.pixels.numBlocksY,maxValue:t.headerInfo.zMax,minValue:t.headerInfo.zMin,noDataValue:t.noDataValue}}},constructConstantSurface:function(t,e){var r=t.headerInfo.zMax,u=t.headerInfo.zMin,a=t.headerInfo.maxValues,i=t.headerInfo.numDims,m=t.headerInfo.height*t.headerInfo.width,n=0,f=0,v=0,o=t.pixels.resultMask,h=t.pixels.resultPixels;if(o)if(i>1){if(e)for(n=0;n<i;n++)for(v=n*m,r=a[n],f=0;f<m;f++)o[f]&&(h[v+f]=r);else for(f=0;f<m;f++)if(o[f])for(v=f*i,n=0;n<i;n++)h[v+i]=a[n]}else for(f=0;f<m;f++)o[f]&&(h[f]=r);else if(i>1&&u!==r)if(e)for(n=0;n<i;n++)for(v=n*m,r=a[n],f=0;f<m;f++)h[v+f]=r;else for(f=0;f<m;f++)for(v=f*i,n=0;n<i;n++)h[v+n]=a[n];else for(f=0;f<m*i;f++)h[f]=r},getDataTypeArray:function(t){var e;switch(t){case 0:e=Int8Array;break;case 1:e=Uint8Array;break;case 2:e=Int16Array;break;case 3:e=Uint16Array;break;case 4:e=Int32Array;break;case 5:e=Uint32Array;break;case 6:default:e=Float32Array;break;case 7:e=Float64Array}return e},getPixelType:function(t){var e;switch(t){case 0:e="S8";break;case 1:e="U8";break;case 2:e="S16";break;case 3:e="U16";break;case 4:e="S32";break;case 5:e="U32";break;case 6:default:e="F32";break;case 7:e="F64"}return e},isValidPixelValue:function(t,e){if(null==e)return!1;var r;switch(t){case 0:r=e>=-128&&e<=127;break;case 1:r=e>=0&&e<=255;break;case 2:r=e>=-32768&&e<=32767;break;case 3:r=e>=0&&e<=65536;break;case 4:r=e>=-2147483648&&e<=2147483647;break;case 5:r=e>=0&&e<=4294967296;break;case 6:r=e>=-34027999387901484e22&&e<=34027999387901484e22;break;case 7:r=e>=-17976931348623157e292&&e<=17976931348623157e292;break;default:r=!1}return r},getDataTypeSize:function(t){var e=0;switch(t){case 0:case 1:e=1;break;case 2:case 3:e=2;break;case 4:case 5:case 6:e=4;break;case 7:e=8;break;default:e=t}return e},getDataTypeUsed:function(t,e){var r=t;switch(t){case 2:case 4:r=t-e;break;case 3:case 5:r=t-2*e;break;case 6:r=0===e?t:1===e?2:1;break;case 7:r=0===e?t:t-2*e+1;break;default:r=t}return r},getOnePixel:function(t,e,r,u){var a=0;switch(r){case 0:a=u.getInt8(e);break;case 1:a=u.getUint8(e);break;case 2:a=u.getInt16(e,!0);break;case 3:a=u.getUint16(e,!0);break;case 4:a=u.getInt32(e,!0);break;case 5:a=u.getUInt32(e,!0);break;case 6:a=u.getFloat32(e,!0);break;case 7:a=u.getFloat64(e,!0);break;default:throw"the decoder does not understand this pixel type"}return a},swapDimensionOrder:function(t,e,r,u,a){var i=0,m=0,n=0,f=0,v=t;if(r>1)if(v=new u(e*r),a)for(i=0;i<e;i++)for(f=i,n=0;n<r;n++,f+=e)v[f]=t[m++];else for(i=0;i<e;i++)for(f=i,n=0;n<r;n++,f+=e)v[m++]=t[f];return v}},b=function(t,e,r){this.val=t,this.left=e,this.right=r},j={decode:function(t,e){var r=(e=e||{}).noDataValue,u=0,a={};if(a.ptr=e.inputOffset||0,a.pixels={},M.readHeaderInfo(t,a)){var i=a.headerInfo,m=i.fileVersion,n=M.getDataTypeArray(i.imageType);if(m>5)throw"unsupported lerc version 2."+m;M.readMask(t,a),i.numValidPixel!==i.width*i.height&&!a.pixels.resultMask&&(a.pixels.resultMask=e.maskData);var f=i.width*i.height;a.pixels.resultPixels=new n(f*i.numDims),a.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var l,v=!e.returnPixelInterleavedDims;if(0!==i.numValidPixel)if(i.zMax===i.zMin)M.constructConstantSurface(a,v);else if(m>=4&&M.checkMinMaxRanges(t,a))M.constructConstantSurface(a,v);else{var o=new DataView(t,a.ptr,2),h=o.getUint8(0);if(a.ptr++,h)M.readDataOneSweep(t,a,n,v);else if(m>1&&i.imageType<=1&&Math.abs(i.maxZError-.5)<1e-5){var g=o.getUint8(1);if(a.ptr++,a.encodeMode=g,g>2||m<4&&g>1)throw"Invalid Huffman flag "+g;g?M.readHuffman(t,a,n,v):M.readTiles(t,a,n,v)}else M.readTiles(t,a,n,v)}a.eofOffset=a.ptr,e.inputOffset?(l=a.headerInfo.blobSize+e.inputOffset-a.ptr,Math.abs(l)>=1&&(a.eofOffset=e.inputOffset+a.headerInfo.blobSize)):(l=a.headerInfo.blobSize-a.ptr,Math.abs(l)>=1&&(a.eofOffset=a.headerInfo.blobSize));var s={width:i.width,height:i.height,pixelData:a.pixels.resultPixels,minValue:i.zMin,maxValue:i.zMax,validPixelCount:i.numValidPixel,dimCount:i.numDims,dimStats:{minValues:i.minValues,maxValues:i.maxValues},maskData:a.pixels.resultMask};if(a.pixels.resultMask&&M.isValidPixelValue(i.imageType,r)){var w=a.pixels.resultMask;for(u=0;u<f;u++)w[u]||(s.pixelData[u]=r);s.noDataValue=r}return a.noDataValue=r,e.returnFileInfo&&(s.fileInfo=M.formatFileInfo(a)),s}},getBandCount:function(t){for(var e=0,r=0,u={ptr:0,pixels:{}};r<t.byteLength-58;)M.readHeaderInfo(t,u),e++,u.ptr=r+=u.headerInfo.blobSize;return e}};return j}(),Q=function(){var B=new ArrayBuffer(4),M=new Uint8Array(B);return new Uint32Array(B)[0]=1,1===M[0]}(),P={decode:function(B,M){if(!Q)throw"Big endian system is not supported.";var e,r,g,l,s,b=(M=M||{}).inputOffset||0,j=new Uint8Array(B,b,10),t=String.fromCharCode.apply(null,j);if("CntZImage"===t.trim())e=J,r=1;else{if("Lerc2"!==t.substring(0,5))throw"Unexpected file identifier string: "+t;e=q,r=2}for(var i,n,f,u=0,a=B.byteLength-10,m=[],v={width:0,height:0,pixels:[],pixelType:M.pixelType,mask:null,statistics:[]},o=0;b<a;){var h=e.decode(B,{inputOffset:b,encodedMaskData:i,maskData:f,returnMask:0===u,returnEncodedMask:0===u,returnFileInfo:!0,returnPixelInterleavedDims:M.returnPixelInterleavedDims,pixelType:M.pixelType||null,noDataValue:M.noDataValue||null});b=h.fileInfo.eofOffset,f=h.maskData,0===u&&(i=h.encodedMaskData,v.width=h.width,v.height=h.height,v.dimCount=h.dimCount||1,v.pixelType=h.pixelType||h.fileInfo.pixelType,v.mask=f),r>1&&(f&&m.push(f),h.fileInfo.mask&&h.fileInfo.mask.numBytes>0&&o++),u++,v.pixels.push(h.pixelData),v.statistics.push({minValue:h.minValue,maxValue:h.maxValue,noDataValue:h.noDataValue,dimStats:h.dimStats})}if(r>1&&o>1){for(s=v.width*v.height,v.bandMasks=m,(f=new Uint8Array(s)).set(m[0]),g=1;g<m.length;g++)for(n=m[g],l=0;l<s;l++)f[l]=f[l]&n[l];v.maskData=f}return v}},void 0!==(K=function(){return P}.apply($,[]))&&(ie.exports=K)},3625:(ie,$,z)=>{"use strict";z.r($),z.d($,{default:()=>P});var K=z(2828),J=z(865),q=z(605),Q=z(4009);class P extends q.Z{constructor(M){super(),this.planarConfiguration=typeof M.PlanarConfiguration<"u"?M.PlanarConfiguration:1,this.samplesPerPixel=typeof M.SamplesPerPixel<"u"?M.SamplesPerPixel:1,this.addCompression=M.LercParameters[Q.L5.AddCompression]}decodeBlock(M){switch(this.addCompression){case Q.Qb.None:break;case Q.Qb.Deflate:M=(0,K.rr)(new Uint8Array(M)).buffer;break;default:throw new Error(`Unsupported LERC additional compression method identifier: ${this.addCompression}`)}return J.decode(M,{returnPixelInterleavedDims:1===this.planarConfiguration}).pixels[0].buffer}}}}]);